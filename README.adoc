= Quarkus Todo app

Supersonic Subatomic Java

https://quarkus.io/

== Todo app

We need to have a database up running...

[source,bash]
----
docker run --ulimit memlock=-1:-1 -it --rm=true \
    --memory-swappiness=0 \
	--name PostgreTecktalk \	
	-e POSTGRES_USER=hibernate \
	-e POSTGRES_PASSWORD=hibernate \
	-e POSTGRES_DB=tecktalk \
	-p 5432:5432 postgres:12.3
----

https://quarkus.io/guides/hibernate-orm


https://quarkus.io/guides/hibernate-orm-panache

== Build and running App

=== Maven

[source,bash]
----
./mvnw compile quarkus:dev
----

[source,bash]
----
./mvnw clean package
java -jar target/quarkus-techtalk-todo-0.0.1-SNAPSHOT-runner.jar
----

[source,bash]
----
./mvnw package -Pnative
./target/quarkus-techtalk-todo-0.0.1-SNAPSHOT-runner
----

=== MicroProfile Health

----
@Health
----

[source,bash]
----
curl -X GET \
	http://localhost:8080/health \
	-H 'Accept: application/json' 
----


https://quarkus.io/guides/health-guide[quarkus.io - Health Guide]


=== MicroProfile Metrics

[source,bash]
----
curl -X GET \
	http://localhost:8080/metrics/application \
	-H 'Accept: application/json' 
----

https://quarkus.io/guides/metrics-guide[quarkus.io - Metrics Guide]


=== OpenAPI and SwaggerUI

- http://localhost:8080/openapi[OpenAPI]
- http://localhost:8080/swagger-ui[swagger-ui]

OpenAPI and Swagger-UI only works in dev and test mode. 

[source,bash]
----
./mvnw compile quarkus:dev
----

https://quarkus.io/guides/openapi-swaggerui-guide[quarkus.io - OpenAPI SwaggerUI Guide]


== Test

[source,bash]
----
curl -v http://localhost:8080/todos \
	-H 'Accept: application/json' \	
	-H 'Content-Type: application/json' \
	-d '{"subject":"Hello from Quarkus","body":"Content"}'
----

== Why  - Supersonic Subatomic Java

We need to look into `quarkus-techtalk-todo-1.0.0-SNAPSHOT-runner.jar` to see what happens behind the screen.

https://github.com/Konloch/bytecode-viewer[Bytecode Viewer]

== YouTubes by Adam Bien

*Quarkus and Panache ORM*

ifdef::env-github[]
image:https://img.youtube.com/vi/npAlosGwXdw/maxresdefault.jpg[link=https://youtu.be/npAlosGwXdw]
endif::[]

ifndef::env-github[]
video::npAlosGwXdw[youtube,width=640,height=480]
endif::[]


*Quarkus Dependency Injection--Behind The Scenes*

ifdef::env-github[]
image:https://img.youtube.com/vi/fH-GbXAnoec/maxresdefault.jpg[link=https://youtu.be/fH-GbXAnoec]
endif::[]

ifndef::env-github[]
video::fH-GbXAnoec[youtube,width=640,height=480]
endif::[]

